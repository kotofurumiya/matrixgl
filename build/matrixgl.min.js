(()=>{var U=class{get values(){return this._values}get magnitude(){let t=0;for(let r of this._values)t+=r**2;return Math.sqrt(t)}toString(){return`Vector${this._values.length}(${this._values.join(", ")})`}},C=class extends U{get x(){return this._values[0]}get y(){return this._values[1]}set x(t){this._values[0]=t}set y(t){this._values[1]=t}},D=class extends U{get x(){return this._values[0]}get y(){return this._values[1]}get z(){return this._values[2]}set x(t){this._values[0]=t}set y(t){this._values[1]=t}set z(t){this._values[2]=t}},E=class extends U{get x(){return this._values[0]}get y(){return this._values[1]}get z(){return this._values[2]}get w(){return this._values[3]}set x(t){this._values[0]=t}set y(t){this._values[1]=t}set z(t){this._values[2]=t}set w(t){this._values[3]=t}};var d=class extends C{constructor(t,r){super();this._values=new Float32Array([t,r])}add(t){return new d(this.x+t.x,this.y+t.y)}sub(t){return new d(this.x-t.x,this.y-t.y)}mulByScalar(t){return new d(this.x*t,this.y*t)}},c=class extends D{constructor(t,r,e){super();this._values=new Float32Array([t,r,e])}add(t){return new c(this.x+t.x,this.y+t.y,this.z+t.z)}sub(t){return new c(this.x-t.x,this.y-t.y,this.z-t.z)}mulByScalar(t){return new c(this.x*t,this.y*t,this.z*t)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}cross(t){let r=this.y*t.z-this.z*t.y,e=this.z*t.x-this.x*t.z,n=this.x*t.y-this.y*t.x;return new c(r,e,n)}normalize(){let t=this.magnitude;return t===0?this:new c(this.x/t,this.y/t,this.z/t)}get xy(){return new d(this.x,this.y)}},F=class extends E{constructor(t,r,e,n){super();this._values=new Float32Array([t,r,e,n])}add(t){return new F(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)}sub(t){return new F(this.x-t.x,this.y-t.y,this.z-t.z,this.w-t.w)}mulByScalar(t){return new F(this.x*t,this.y*t,this.z*t,this.w*t)}get xyz(){return new c(this.x,this.y,this.z)}},mt=d,ct=c,lt=F;var w=class{constructor(t,r,e,n){this._values=new Float32Array([t,r,e,n])}static rotationAround(t,r){let e=Math.sin(r/2),n=Math.cos(r/2);return new w(t.x*e,t.y*e,t.z*e,n)}normalize(){let t=this.magnitude;if(t===0)return this;let r=1/t;return new w(this.x*r,this.y*r,this.z*r,this.w*r)}add(t){return new w(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)}mulByScalar(t){return new w(this.x*t,this.y*t,this.z*t,this.w*t)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}slerp(t,r,e={chooseShorterAngle:!0}){let n=this.dot(t),u=t;n<0&&(n=-n,u=t.mulByScalar(-1));let s=Math.acos(n),o=Math.sin(s),i=this.mulByScalar(Math.sin((1-r)*s)/o),m=u.mulByScalar(Math.sin(r*s)/o);return i.add(m)}get magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}get norm(){return this.magnitude}get x(){return this._values[0]}get y(){return this._values[1]}get z(){return this._values[2]}get w(){return this._values[3]}set x(t){this._values[0]=t}set y(t){this._values[1]=t}set z(t){this._values[2]=t}set w(t){this._values[3]=t}get values(){return this._values}toRotationMatrix4(){let t=this.x,r=this.y,e=this.z,n=this.w,u=1-2*r*r-2*e*e,s=2*t*r-2*n*e,o=2*t*e+2*n*r,i=0,m=2*t*r+2*n*e,l=1-2*t*t-2*e*e,b=2*r*e-2*n*t,h=0,x=2*t*e-2*n*r,y=2*r*e+2*n*t,v=1-2*t*t-2*r*r,p=0,g=0,z=0,M=0,A=1;return new a(u,m,x,g,s,l,y,z,o,b,v,M,i,h,p,A)}toString(){return`Quaternion(${this.x}, ${this.y}, ${this.z}, ${this.w})`}};var I=class{constructor(t,r,e,n){this._values=new Float32Array([t,r,e,n])}static identity(){return new I(1,0,0,1)}get values(){return this._values}toString(){return this._values.toString()}},X=class{constructor(t,r,e,n,u,s,o,i,m){this._values=new Float32Array([t,r,e,n,u,s,o,i,m])}static identity(){return new X(1,0,0,0,1,0,0,0,1)}get values(){return this._values}toString(){return this._values.toString()}},a=class{constructor(t,r,e,n,u,s,o,i,m,l,b,h,x,y,v,p){this._values=new Float32Array([t,r,e,n,u,s,o,i,m,l,b,h,x,y,v,p])}static identity(){return new a(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}static translation(t,r,e){return new a(1,0,0,0,0,1,0,0,0,0,1,0,t,r,e,1)}static scaling(t,r,e){return new a(t,0,0,0,0,r,0,0,0,0,e,0,0,0,0,1)}static rotationX(t){let r=Math.sin(t),e=Math.cos(t);return new a(1,0,0,0,0,e,r,0,0,-r,e,0,0,0,0,1)}static rotationY(t){let r=Math.sin(t),e=Math.cos(t);return new a(e,0,-r,0,0,1,0,0,r,0,e,0,0,0,0,1)}static rotationZ(t){let r=Math.sin(t),e=Math.cos(t);return new a(e,r,0,0,-r,e,0,0,0,0,1,0,0,0,0,1)}static rotationAround(t,r){return w.rotationAround(t,r).toRotationMatrix4()}static lookAt(t,r,e){let n=t.sub(r).normalize(),u=e.cross(n).normalize(),s=n.cross(u).normalize();return new a(u.x,s.x,n.x,0,u.y,s.y,n.y,0,u.z,s.z,n.z,0,-t.dot(u),-t.dot(s),-t.dot(n),1)}static orthographic(t){let r=t.top,e=t.bottom,n=t.left,u=t.right,s=t.near,o=t.far;return new a(2/(u-n),0,0,0,0,2/(r-e),0,0,0,0,-2/(o-s),0,-(u+n)/(u-n),-(r+e)/(r-e),-(o+s)/(o-s),1)}static frustum(t){let r=t.top,e=t.bottom,n=t.left,u=t.right,s=t.near,o=t.far;return new a(2*s/(u-n),0,0,0,0,2*s/(r-e),0,0,(u+n)/(u-n),(r+e)/(r-e),-(o+s)/(o-s),-1,0,0,-2*o*s/(o-s),0)}static perspective(t){let r=t.near*Math.tan(t.fovYRadian*.5),e=r*2,n=t.aspectRatio*e,u=-.5*n,s=u+n,o=r-e;return a.frustum({top:r,bottom:o,left:u,right:s,near:t.near,far:t.far})}mulByMatrix4x4(t){let r=this._values[0],e=this._values[4],n=this._values[8],u=this._values[12],s=this._values[1],o=this._values[5],i=this._values[9],m=this._values[13],l=this._values[2],b=this._values[6],h=this._values[10],x=this._values[14],y=this._values[3],v=this._values[7],p=this._values[11],g=this._values[15],z=t.values[0],M=t.values[4],A=t.values[8],f=t.values[12],_=t.values[1],V=t.values[5],S=t.values[9],B=t.values[13],T=t.values[2],Q=t.values[6],q=t.values[10],k=t.values[14],L=t.values[3],R=t.values[7],$=t.values[11],Y=t.values[15],G=r*z+e*_+n*T+u*L,H=r*M+e*V+n*Q+u*R,J=r*A+e*S+n*q+u*$,K=r*f+e*B+n*k+u*Y,N=s*z+o*_+i*T+m*L,W=s*M+o*V+i*Q+m*R,P=s*A+o*S+i*q+m*$,j=s*f+o*B+i*k+m*Y,O=l*z+b*_+h*T+x*L,tt=l*M+b*V+h*Q+x*R,rt=l*A+b*S+h*q+x*$,et=l*f+b*B+h*k+x*Y,nt=y*z+v*_+p*T+g*L,st=y*M+v*V+p*Q+g*R,ut=y*A+v*S+p*q+g*$,ot=y*f+v*B+p*k+g*Y;return new a(G,N,O,nt,H,W,tt,st,J,P,rt,ut,K,j,et,ot)}mulByMatrix4(t){return this.mulByMatrix4x4(t)}translate(t,r,e){let n=a.translation(t,r,e);return this.mulByMatrix4x4(n)}scale(t,r,e){let n=a.scaling(t,r,e);return this.mulByMatrix4x4(n)}rotateX(t){let r=a.rotationX(t);return this.mulByMatrix4x4(r)}rotateY(t){let r=a.rotationY(t);return this.mulByMatrix4x4(r)}rotateZ(t){let r=a.rotationZ(t);return this.mulByMatrix4x4(r)}rotateAround(t,r){let e=a.rotationAround(t,r);return this.mulByMatrix4x4(e)}get values(){return this._values}toString(){return this._values.toString()}},vt=I,pt=X,wt=a;})();
